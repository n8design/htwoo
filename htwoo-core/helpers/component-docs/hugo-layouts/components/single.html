{{ define "main" }}
<!-- Component page styles -->
{{ partial "component-styles.html" . }}
<!-- component single template -->
<article id="content" class="t-component">
  <!-- Under Construction Notice -->
  <div class="under-construction">
    <strong>ðŸš§ Under Construction</strong>
    <p>This component documentation is currently being developed. Some features may be incomplete.</p>
  </div>

  <!-- Breadcrumb -->
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <ol>
      <li><a href="{{ .Site.BaseURL }}components/">Components</a></li>
      {{ if .Params.category }}
      <li><a href="{{ .Site.BaseURL }}components/{{ .Params.category }}/">{{ .Params.category | title }}</a></li>
      {{ end }}
      {{ if .Params.subcategory }}
      <li><a href="{{ .Site.BaseURL }}components/{{ .Params.category }}/{{ .Params.subcategory }}/">{{ .Params.subcategory | title }}</a></li>
      {{ end }}
      <li aria-current="page">{{ .Title }}</li>
    </ol>
  </nav>

  <!-- Component Header -->
  <header class="component-header">
    <h1>{{ .Title }}</h1>
    {{ if .Params.patternId }}
    <a href="{{ .Site.BaseURL }}htwoo-core/?p={{ .Params.patternId }}" class="btn-patternlab">View in Pattern Lab</a>
    {{ end }}
  </header>

  <!-- Component Preview -->
  <section class="component-preview">
    <div class="preview-container">
      {{ if .Params.patternId }}
      <htwoo-component-preview pattern="{{ .Params.patternId }}"></htwoo-component-preview>
      {{ end }}
    </div>

    {{ if .Params.markup }}
    <div class="markup-section">
      <div class="markup-header">
        <h3>HTML Markup</h3>
        <button class="copy-btn" data-clipboard-target="#markup-code">Copy</button>
      </div>
      <pre><code id="markup-code" class="language-html">{{ .Params.markup | safeHTML }}</code></pre>
    </div>
    {{ end }}
  </section>

  <!-- Variants Section -->
  {{ if .Params.hasVariants }}
  {{ with .Params.variants }}
  <section class="component-variants">
    <h2>Variants</h2>
    {{ range $index, $variant := . }}
    <div class="variant-item">
      <h3 class="variant-title">{{ $variant.title }}</h3>
      <div class="component-preview">
        <div class="preview-container">
          <htwoo-component-preview pattern="{{ $variant.id }}"></htwoo-component-preview>
        </div>
        {{ if $variant.markup }}
        <div class="markup-section">
          <div class="markup-header">
            <h4>HTML Markup</h4>
            <button class="copy-btn" data-clipboard-target="#variant-markup-{{ $index }}">Copy</button>
          </div>
          <pre><code id="variant-markup-{{ $index }}" class="language-html">{{ $variant.markup | safeHTML }}</code></pre>
        </div>
        {{ end }}
      </div>
    </div>
    {{ end }}
  </section>
  {{ end }}
  {{ end }}

  <!-- Component Documentation -->
  <section class="component-docs">
    {{ .Content }}
  </section>
</article>

<!-- Load component preview web component -->
<script src="{{ .Site.BaseURL }}htwoo-components/js/htwoo-component-preview.js"></script>
<!-- Prism.js for code highlighting -->
<link rel="stylesheet" href="{{ .Site.BaseURL }}htwoo-core/js/prismjs/prism.css">
<script src="{{ .Site.BaseURL }}htwoo-core/js/prismjs/prism.js"></script>
<script src="{{ .Site.BaseURL }}htwoo-components/js/components.js"></script>
<!-- component single template -->
{{ end }}
